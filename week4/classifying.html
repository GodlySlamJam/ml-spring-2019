<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.js"></script>
  <script src="https://unpkg.com/ml5@0.1.3/dist/ml5.min.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
  <script src="https://unpkg.com/@tensorflow-models/mobilenet"></script>
</head>
<body>

<script>
  // let img = document.createElement("img");
  // img.src = 'http://i0.wp.com/shoryuken.com/wp-content/uploads/2017/07/ARMS_Hedlok_Mode.jpg?fit=750%2C400&resize=750%2C400'
  // // document.body.appendChild(img);
  //
  //   // let features = ml5.featureExtractor('MobileNet', setup)
  //   const classifying = ml5.imageClassifier('MobileNet')
  //
  //   function setup(){
  //       loadImage('ARMS_Hedlok_Mode.jpg', img[0] , img[0])
  //     noCanvas();
  //   }
  //
  //   function draw(){
  //     if(classifying){
  //       console.log("good")
  //       classifying.addImage("https://cdn.wikimg.net/en/armswiki/images/thumb/d/d3/MaxBrass.png/290px-MaxBrass.png", "Max Brass");
  //       classifying.addImage("https://i.redd.it/uan4rn9gov3z.png", "Max Brass");
  //       classifying.addImage("https://arms.nintendo.com/assets/img/news/articles/max-brass/cover.jpg", "Max Brass");
  //       classifying.addImage("https://i.imgur.com/KQs4qsO.png", "Max Brass");
  //       classifying.addImage("https://pbs.twimg.com/media/DCyJ1KyUQAA3M2t.jpg", "Max Brass");
  //       classifying.addImage("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0vapusV-Z_fx49H0nPC6mPuK6dB7wO7_aHwaso49DpPEY7Blv", "Max Brass");
  //       classifying.addImage("https://thumbs.mic.com/NjExZWE0NjU4OSMvNGYyNzJZcW1ucEtSVWVfRkppOGUwYTFqR0FNPS81eDA6MjUzOHgxNDI1LzgwMHg0NTAvZmlsdGVyczpmb3JtYXQoanBlZyk6cXVhbGl0eSg4MCkvaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3BvbGljeW1pYy1pbWFnZXMvM3h5amRwdWtwYWxvY2ZibHl6Y2gxdHcyb296YnZ5MmdnbHVqeGZqb3F0bHlieWl4c3YzY2gzeWJycGR1ZnN2aS5qcGc.jpg", "Max Brass");
  //
  //       classifying.train();
  //       classifying.classify(img , result);
  //     }
  //   }
  //
  //   function result(finish){
  //     console.log(finish)
  //   }
let imgs = ["https://cdn.wikimg.net/en/armswiki/images/thumb/d/d3/MaxBrass.png/290px-MaxBrass.png","https://i.redd.it/uan4rn9gov3z.png","https://arms.nintendo.com/assets/img/news/articles/max-brass/cover.jpg","https://i.imgur.com/KQs4qsO.png", "https://pbs.twimg.com/media/DCyJ1KyUQAA3M2t.jpg", "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0vapusV-Z_fx49H0nPC6mPuK6dB7wO7_aHwaso49DpPEY7Blv","https://thumbs.mic.com/NjExZWE0NjU4OSMvNGYyNzJZcW1ucEtSVWVfRkppOGUwYTFqR0FNPS81eDA6MjUzOHgxNDI1LzgwMHg0NTAvZmlsdGVyczpmb3JtYXQoanBlZyk6cXVhbGl0eSg4MCkvaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3BvbGljeW1pYy1pbWFnZXMvM3h5amRwdWtwYWxvY2ZibHl6Y2gxdHcyb296YnZ5MmdnbHVqeGZqb3F0bHlieWl4c3YzY2gzeWJycGR1ZnN2aS5qcGc.jpg"]
console.log("start")

for(let x = 0; x < imgs.length;x++){
  let img = document.createElement("img");
  img.src = imgs[x]
  img.width = img.width
  img.height = img.height
  document.body.appendChild(img);
}
console.log("start2")
    let features = ml5.featureExtractor('MobileNet')
    const classifying = features.classification();
console.log("start3")
for(let y = 0; y < imgs.length; y++){
  classifying.addImage(tf.browser.fromPixels(document.getElementsByTagName("img")[y], 3), "Max Brass");
  console.log("good-" + y)
}
console.log("start4")
        // classifying.addImage(tf.browser.fromPixels("https://cdn.wikimg.net/en/armswiki/images/thumb/d/d3/MaxBrass.png/290px-MaxBrass.png"), "Max Brass");
        // console.log("good1")
        // classifying.addImage(tf.browser.fromPixels("https://i.redd.it/uan4rn9gov3z.png"), "Max Brass");
        // console.log("good2")
        // classifying.addImage(tf.browser.fromPixels("https://arms.nintendo.com/assets/img/news/articles/max-brass/cover.jpg"), "Max Brass");
        // console.log("good3")
        // classifying.addImage(tf.browser.fromPixels("https://i.imgur.com/KQs4qsO.png"), "Max Brass");
        // console.log("good4")
        // classifying.addImage(tf.browser.fromPixels("https://pbs.twimg.com/media/DCyJ1KyUQAA3M2t.jpg"), "Max Brass");
        // console.log("good5")
        // classifying.addImage(tf.browser.fromPixels("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0vapusV-Z_fx49H0nPC6mPuK6dB7wO7_aHwaso49DpPEY7Blv"), "Max Brass");
        // console.log("good6")
        // classifying.addImage(tf.browser.fromPixels("https://thumbs.mic.com/NjExZWE0NjU4OSMvNGYyNzJZcW1ucEtSVWVfRkppOGUwYTFqR0FNPS81eDA6MjUzOHgxNDI1LzgwMHg0NTAvZmlsdGVyczpmb3JtYXQoanBlZyk6cXVhbGl0eSg4MCkvaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3BvbGljeW1pYy1pbWFnZXMvM3h5amRwdWtwYWxvY2ZibHl6Y2gxdHcyb296YnZ5MmdnbHVqeGZqb3F0bHlieWl4c3YzY2gzeWJycGR1ZnN2aS5qcGc.jpg"), "Max Brass");
        // console.log("good7")

        classifying.train();
console.log("start5")
        classifying.classify("ARMS_Hedlok_Mode.jpg", result);
console.log("start6")
        function result(out){
          console.log(out + "    Okdsa")
        }
        console.log("start7")
</script>

</body>
</html>
